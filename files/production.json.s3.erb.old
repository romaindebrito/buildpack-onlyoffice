{
  "log": {
    "filePath": "/app/config/log4js/production.json"
  },
  "storage": {
    "name": "s3",
    "s3": {
      "endpoint": "<%= ENV['S3_ENDPOINT'] %>",
      "region": "<%= ENV['S3_REGION'] %>",
      "bucketName": "<%= ENV['S3_BUCKET'] %>",
      "storageFolderName": "onlyoffice",
      "usePathStyle": false,
      "accessKeyId": "<%= ENV['S3_ACCESS_KEY_ID'] %>",
      "secretAccessKey": "<%= ENV['S3_SECRET_ACCESS_KEY'] %>"
    }
  },
  "aiSettings": {
    "pluginDir" : "/app/server/info/ai"
  },
  "wopi": {
    "enable": false
  },
  "rabbitmq": {
    "url": "<%= ENV['OO_DS_RABBITMQ_URL'] %>"
  },
  "services": {
    "CoAuthoring": {
      "server": {
        "port": 8000,
        "workerpercpu": 1,
        "mode": "development",
        "request-filtering-agent" : {
          "allowPrivateIPAddress": true,
          "allowMetaIPAddress": false
        },
        "limits_tempfile_upload": 104857600,
        "limits_image_size": 26214400,
        "limits_image_download_timeout": {
          "connectionAndInactivity": "2m",
          "wholeCycle": "2m"
        },
        "callbackRequestTimeout": {
          "connectionAndInactivity": "10m",
          "wholeCycle": "10m"
        },
        "healthcheckfilepath": "../public/healthcheck.docx",
        "savetimeoutdelay": 5000,
        "edit_singleton": false,
        "forgottenfiles": "forgotten",
        "forgottenfilesname": "output",
        "maxRequestChanges": 20000,
        "openProtectedFile": true,
        "isAnonymousSupport": true,
        "editorDataStorage": "editorDataMemory",
        "editorStatStorage": "",
        "assemblyFormatAsOrigin": true,
        "newFileTemplate": "../../document-templates/new",
        "downloadFileAllowExt": [
          "pdf",
          "docx",
          "xlsx"
        ],
        "tokenRequiredParams": true,
        "forceSaveUsingButtonWithoutChanges": false,
        "static_content": {
          "/fonts": {
            "path": "/app/fonts",
            "options": {"maxAge": "7d"}
          },
          "/sdkjs": {
            "path": "/app/sdkjs",
            "options": {"maxAge": "7d"}
          },
          "/web-apps": {
            "path": "/app/web-apps",
            "options": {"maxAge": "7d"}
          },
          "/welcome": {
            "path": "/app/server/welcome",
            "options": {"maxAge": "7d"}
          },
          "/info": {
            "path": "/app/server/info",
            "options": {"maxAge": "7d"}
          },
          "/sdkjs-plugins": {
            "path": "/app/sdkjs-plugins",
            "options": {"maxAge": "7d"}
          },
          "/dictionaries": {
            "path": "/app/dictionaries",
            "options": {"maxAge": "7d"}
          }
        }
      },
      "sql": {
        "type": "<%= ENV['OO_DS_SERVICES_COAUTHORING_SQL_TYPE'] %>",
        "dbHost": "<%= ENV['OO_DS_SERVICES_COAUTHORING_SQL_DBHOST'] %>",
        "dbPort": <%= ENV['OO_DS_SERVICES_COAUTHORING_SQL_DBPORT'] %>,
        "dbName": "<%= ENV['OO_DS_SERVICES_COAUTHORING_SQL_DBNAME'] %>",
        "dbUser": "<%= ENV['OO_DS_SERVICES_COAUTHORING_SQL_DBUSER'] %>",
        "dbPass": "<%= ENV['OO_DS_SERVICES_COAUTHORING_SQL_DBPASS'] %>",
        "connectionlimit": 10,
        "pgPoolExtraOptions": {
          "idleTimeoutMillis": 30000,
          "maxLifetimeSeconds ": 60000,
          "statement_timeout ": 60000,
          "query_timeout  ": 60000,
          "connectionTimeoutMillis": 60000,
          "ssl": {
            "rejectUnauthorized": false
          }
        }
      },
      "redis": {
        "host": "<%= ENV['OO_DS_SERVICES_COAUTHORING_REDIS_HOST'] %>",
        "port": <%= ENV['OO_DS_SERVICES_COAUTHORING_REDIS_PORT'] %>
      },
      "utils": {
        "utils_common_fontdir": "/app/fonts"
      },
      "sockjs": {
        "sockjs_url": "/web-apps/vendor/sockjs/sockjs.min.js",
        "websocket": true
      },
      "token": {
        "enable": {
          "browser": false,
          "request": {
            "inbox": false,
            "outbox": false
          }
        }
      },
      "secret": {
        "inbox": {
          "string": "<%= ENV['OO_DS_JWT_SECRET'] %>"
        },
        "outbox": {
          "string": "<%= ENV['OO_DS_JWT_SECRET'] %>"
        },
        "session": {
          "string": "<%= ENV['OO_DS_JWT_SECRET'] %>"
        }
      },
      "requestDefaults": {
        "rejectUnauthorized": false
      }
    }
  },
  "license": {
    "license_file": "/app/data/license.lic",
    "warning_limit_percents": 70,
    "packageType": 0
  },
  "FileConverter": {
    "converter": {
      "fontDir": "/app/fonts",
      "presentationThemesDir": "/app/sdkjs/slide/themes",
      "x2tPath": "/app/server/FileConverter/bin/x2t",
      "docbuilderPath": "/app/server/FileConverter/bin/docbuilder"
    }
  },
  "SpellChecker": {
    "server": {
      "dictDir": "/app/dictionaries"
    }
  }
}
